\documentclass{exam}
\usepackage{pgfplots}
\usepackage{filecontents}
\usepackage{stix2}
\usepackage{siunitx}
\pgfplotsset{compat=1.16}

\firstpageheader{EE4204}{Socket Programming Assignment Report}{\today}
\runningheader{EE4204}{Socket Programming Assignment Report (Continued)}{\today}
\footer{}{\thepage}{}





%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{filecontents*}{epTime.csv}
error_p,ti
0, 1.199
1, 1.286
2, 1.441
3, 2.030
4, 1.052
5, 3.614
6, 3.035
7, 3.600
8, 2.975
9, 2.699
10, 2.657
11, 3.059
12, 2.438
13, 3.167
14, 3.866
15, 4.033
16, 4.787
17, 4.087
18, 4.227
19, 4.491
20, 4.760
21, 4.464
22, 3.917
23, 4.738
24, 4.939
25, 4.411
26, 4.472
27, 2.982
28, 3.665
29, 3.956
30, 2.825
31, 2.924
32, 3.166
33, 4.223
34, 4.601
35, 4.668
36, 5.337
37, 4.563
38, 3.375
39, 3.339
40, 3.191
41, 3.345
42, 3.080
43, 5.076
44, 5.252
45, 6.478
46, 2.594
47, 3.950
48, 3.985
49, 3.965
50, 4.003
51, 3.901
52, 4.815
53, 3.996
54, 7.366
55, 3.731
56, 2.942
57, 3.259
58, 2.909
59, 5.072
60, 5.034
61, 4.957
62, 5.129
63, 4.904
64, 2.619
65, 1.682
66, 1.680
67, 4.943
68, 2.751
69, 1.823
70, 2.414
71, 2.612
72, 1.939
73, 2.378
74, 2.163
75, 12.016
76, 13.147
77, 5.778
78, 4.582
79, 5.687
80, 5.079
81, 4.860
82, 6.548
83, 7.494
84, 8.027
85, 9.555
86, 20.572
87, 18.582
88, 15.857
89, 14.304
90, 13.822
91, 15.762
92, 16.603
93, 18.265
94, 23.897
95, 28.434
96, 29.490
97, 48.117
98, 44.432
99, 69.464
\end{filecontents*}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{filecontents*}{epRate.csv}
error_p,rt
0,44850.68408
1,63183.7707
2,52492.49443
3,51070.17051
4,39555.57041
5,57567.4
6,52745.68848
7,36720.27627
8,29219.51934
9,25949.4416
10,26332.80215
11,21070.95811
12,22681.8001
13,33089.28467
14,28121.27568
15,25001.19248
16,23340.45059
17,19443.13652
18,15793.41367
19,15404.91631
20,19650.15068
21,17694.03867
22,17535.96963
23,17930.67813
24,21516.79336
25,19223.64551
26,19791.76885
27,19389.84707
28,19071.28184
29,21440.62305
30,20781.14082
31,24605.52129
32,23840.78242
33,17348.30313
34,19015.90039
35,16247.27153
36,17903.04414
37,21413.43613
38,22833.32979
39,22117.53965
40,20836.43145
41,17540.24316
42,18488.18984
43,17789.35859
44,18108.24365
45,20022.59209
46,19512.34268
47,24841.40078
48,23621.5291
49,22978.11709
50,23493.09912
51,22417.29727
52,22293.71646
53,24271.91289
54,23789.25679
55,22287.10942
56,23058.25283
57,21660.1812
58,20777.78032
59,19073.7731
60,19063.97144
61,19850.06348
62,17884.76289
63,15377.84404
64,15998.14126
65,18214.22324
66,13248.22813
67,11807.83281
68,11645.92554
69,9967.162256
70,8768.431836
71,10074.58774
72,10667.56211
73,9828.948877
74,9916.21958
75,10173.62358
76,9087.069971
77,9982.724463
78,10196.86753
79,10233.77207
80,9180.400635
81,5557.175464
82,5761.894458
83,4852.037232
84,6906.069238
85,6358.67522
86,6352.614551
87,6342.583472
88,5341.068945
89,4391.591284
90,4400.442798
91,3960.319092
92,5079.722949
93,4358.520325
94,3724.360291
95,3466.199011
96,2568.072009
97,2365.186212
98,1688.334363
99,1073.777081
\end{filecontents*}
















\begin{filecontents*}{dusTime-err0.csv}
data_len,ti
235, 7.000
735, 1.078
1235, 0.945
1735, 0.828
2235, 0.714
2735, 0.541
3235, 0.624
3735, 0.715
4235, 0.715
4735, 0.767
5235, 0.601
5735, 0.391
6235, 0.545
6735, 0.306
7235, 0.407
7735, 0.257
8235, 0.533
8735, 0.205
9235, 0.406
9735, 0.682
10235, 0.598
10735, 0.569
11235, 0.658
11735, 0.241
12235, 0.569
12735, 0.551
13235, 0.441
13735, 0.554
14235, 0.563
14735, 0.557
15235, 0.369
15735, 0.474
16235, 0.382
16735, 0.210
17235, 0.386
17735, 0.268
18235, 0.441
18735, 0.486
19235, 0.443
19735, 0.308
20235, 0.214
20735, 0.376
21235, 0.302
21735, 0.241
22235, 0.295
22735, 0.230
23235, 0.265
23735, 0.289
24235, 0.193
24735, 0.316
25235, 0.160
25735, 0.195
26235, 0.180
26735, 0.395
27235, 0.403
27735, 0.392
28235, 0.250
28735, 0.362
29235, 0.361
29735, 0.394
30235, 0.283
30735, 0.293
31235, 0.295
31735, 0.300
32235, 0.288
32735, 0.156
33235, 0.281
33735, 0.279
34235, 0.297
34735, 0.265
35235, 0.298
35735, 0.295
36235, 0.284
36735, 0.301
37235, 0.279
37735, 0.310
38235, 0.303
38735, 0.302
39235, 0.293
39735, 0.196
40235, 0.302
40735, 0.296
41235, 0.328
41735, 0.317
42235, 0.320
42735, 0.325
43235, 0.323
43735, 0.344
44235, 0.267
44735, 0.233
45235, 0.324
45735, 0.320
46235, 0.327
46735, 0.323
47235, 0.313
47735, 0.331
48235, 0.326
48735, 0.331
49235, 0.279
49735, 0.289
\end{filecontents*}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{filecontents*}{dusTime-err50.csv}
data_len,ti
235, 15.395
735, 2.287
1235, 1.564
1735, 1.425
2235, 2.080
2735, 0.776
3235, 0.877
3735, 0.941
4235, 1.002
4735, 1.496
5235, 2.445
5735, 1.633
6235, 1.926
6735, 2.263
7235, 2.144
7735, 2.029
8235, 1.877
8735, 2.312
9235, 2.010
9735, 1.481
10235, 2.103
10735, 1.390
11235, 1.029
11735, 1.448
12235, 1.163
12735, 1.656
13235, 1.694
13735, 2.493
14235, 1.609
14735, 1.546
15235, 0.940
15735, 0.825
16235, 0.880
16735, 0.791
17235, 0.978
17735, 1.599
18235, 1.361
18735, 1.529
19235, 1.110
19735, 1.198
20235, 1.746
20735, 1.049
21235, 1.586
21735, 0.848
22235, 1.078
22735, 0.859
23235, 0.936
23735, 0.709
24235, 0.941
24735, 1.311
25235, 1.563
25735, 1.055
26235, 1.161
26735, 1.079
27235, 1.932
27735, 1.078
28235, 1.172
28735, 0.983
29235, 1.413
29735, 1.529
30235, 0.650
30735, 1.287
31235, 0.560
31735, 1.425
32235, 0.919
32735, 0.872
33235, 0.962
33735, 0.508
34235, 0.280
34735, 0.360
35235, 0.327
35735, 0.407
36235, 0.234
36735, 0.418
37235, 0.738
37735, 0.390
38235, 0.331
38735, 1.305
39235, 0.604
39735, 0.474
40235, 0.616
40735, 0.720
41235, 0.723
41735, 1.058
42235, 0.772
42735, 0.273
43235, 0.419
43735, 0.366
44235, 0.455
44735, 0.721
45235, 0.606
45735, 0.406
46235, 0.821
46735, 0.500
47235, 0.490
47735, 0.585
48235, 0.472
48735, 0.715
49235, 0.716
49735, 0.958
\end{filecontents*}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{filecontents*}{dusRate-err0.csv}
data_len,rt
235,7329.822144
735,33047.09766
1235,51359.37344
1735,44204.94004
2235,58193.75215
2735,68134.86973
3235,72831.17676
3735,72240.14023
4235,63003.11641
4735,52314.15
5235,52443.08418
5735,47534.86055
6235,52874.33203
6735,52127.50898
7235,65223.38066
7735,87356.27578
8235,54066.42852
8735,68575.0957
9235,79922.16563
9735,72265.38555
10235,65109.14727
10735,62700.41563
11235,83470.7207
11735,75487.46602
12235,80074.80234
12735,97372.16992
13235,73825.68555
13735,89822.4668
14235,90545.11523
14735,96774.24414
15235,89823.73438
15735,104527.3773
16235,90688.67227
16735,88130.61328
17235,68727.65391
17735,136029.0758
18235,71412.07656
18735,100485.607
19235,74212.77969
19735,71912.13125
20235,88701.38555
20735,89291.95078
21235,87137.39922
21735,83609.8707
22235,85273.02969
22735,115454.7234
23235,102710.4332
23735,102907.2102
24235,123735.3656
24735,108842.3984
25235,119395.4914
25735,129902.1719
26235,105649.7016
26735,120172.875
27235,126591.6039
27735,109518.9453
28235,102702.5109
28735,96100.75938
29235,88044.12969
29735,109659.4527
30235,109574.5547
30735,109735.4281
31235,102347.7352
31735,122023.3055
32235,115086.582
32735,175849.6281
33235,155148.8727
33735,141684.4281
34235,112567.3906
34735,110602.518
35235,101123.4883
35735,107023.0859
36235,106040.4008
36735,117846.282
37235,116216.9703
37735,112860.4414
38235,103407.4063
38735,110780.5703
39235,107888.532
39735,105567.9391
40235,123301.6313
40735,132834.2328
41235,128390.6758
41735,125895.6797
42235,113854.0422
42735,128008.4719
43235,116745.5172
43735,116247.3422
44235,114079.9773
44735,118405.8109
45235,118780.7742
45735,126420.8188
46235,134236.6859
46735,118844.8617
47235,118485.768
47735,116218.5711
48235,122504.9094
48735,113067.5938
49235,120130.0297
49735,128060.6172
\end{filecontents*}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{filecontents*}{dusRate-err50.csv}
data_len,rt
235,2755.147168
735,11719.74175
1235,16981.67827
1735,34235.77383
2235,45608.88027
2735,48753.82344
3235,41749.8084
3735,32456.95098
4235,30594.63633
4735,25022.4833
5235,31055.6582
5735,29117.04082
6235,37096.78203
6735,35131.9584
7235,35763.62109
7735,34990.5334
8235,36002.10176
8735,36883.76016
9235,43454.25352
9735,33552.03242
10235,41075.06484
10735,47136.98086
11235,45388.97402
11735,36852.00527
12235,46002.04453
12735,47572.34375
13235,45606.45781
13735,56010.38477
14235,48001.99199
14735,51944.85449
15235,51334.90742
15735,47504.98711
16235,44004.19844
16735,74801.16094
17235,67526.36094
17735,57086.06816
18235,58584.52285
18735,60970.22109
19235,61448.20703
19735,58553.66895
20235,74041.16875
20735,82003.83926
21235,81924.78359
21735,94010.73379
22235,76150.38086
22735,72521.51738
23235,89064.77305
23735,89410.18242
24235,84625.17227
24735,78320.77617
25235,69556.09961
25735,79764.90117
26235,80360.48359
26735,68294.74492
27235,78214.46914
27735,58990.40234
28235,57205.98301
28735,60133.38086
29235,69775.53438
29735,79088.5916
30235,124802.073
30735,78360.93359
31235,88742.79961
31735,91211.95352
32235,72866.93379
32735,82093.52344
33235,90599.95586
33735,100965.0129
34235,88108.73555
34735,81272.10243
35235,89253.30703
35735,82095.45859
36235,68666.54297
36735,81800.68142
37235,97699.17148
37735,116457.4117
38235,101017.9352
38735,86260.33633
39235,91314.73906
39735,87371.2293
40235,90679.15039
40735,107571.1008
41235,89186.18672
41735,81377.19727
42235,85601.38984
42735,79604.20078
43235,99046.69492
43735,77998.56914
44235,93118.74922
44735,74913.71641
45235,74709.87852
45735,75715.99805
46235,91495.07539
46735,93760.77148
47235,91015.69961
47735,66287.42656
48235,71490.68906
48735,82327.21875
49235,97569.46563
49735,101742.7672
\end{filecontents*}















\begin{document}
Assumptions:

The amount of computational resource available to the C programs remains stable. 127.0.0.1 is the most common IPv4 loopback address, therefore everything happens internally, the data does not travel through external media such as cables or electromagnetic waves and the only constraint is the local resources. Besides the processor speed, the number of other programs that are open and whether the programs are in a virtual machine may also affect the values recorded.

Results:

For 1 and 2, I chose to plot from \SI{0}{\percent} to \SI{99}{\percent}. I chose 1000 as my data length.

For data unit size, 235 is the lowest value I could use and not encounter frequent errors. Therefore I chose to plot from 235 to 49735, with the step being 500. I chose \SI{50}{\percent} as the other error probability constant.

Comparison:

From the first two graphs plotted against error probability we can see that the higher the error probability, the more times data has to be re-transmitted, resulting in more time spent to successfully sent the same amount of data and therefore lower throughput. The same trend  can be seen on the graphs plotted against data unit size. Although the general shape does not change, the scale on the y-axis changes to reflect the trend.

From the four graphs plotted against data unit size, it can be seen that throughput increases gradually as data unit size increases. On the other hand, while there is a sharp decrease in transfer time for very small data unit sizes, very quickly the transfer time stabilises and any further impact is negligible. This is t

\begin{questions}

\question Transfer time vs error probability 

\begin{tikzpicture}
\begin{axis}[
xlabel = {error probability / \si{\percent}},
ylabel = {transfer time / \si{\milli\second} }
]
\addplot table [x=error_p, y=ti, col sep=comma] {epTime.csv};
\end{axis}
\end{tikzpicture}


\question Throughput vs error probability

\begin{tikzpicture}
\begin{axis}[
xlabel = {error probability / \si{\percent}},
ylabel = {throughput / \si{kBps} }
]
\addplot table [x=error_p, y=rt, col sep=comma] {epRate.csv};
\end{axis}
\end{tikzpicture}

\newpage

\question

\begin{parts}
\part Transfer time vs data unit size (error probability = 0)

\begin{tikzpicture}
\begin{axis}[
xlabel = {data unit size / \si{byte}},
ylabel = {transfer time / \si{\milli\second} }
]
\addplot table [x=data_len, y=ti, col sep=comma] {dusTime-err0.csv};
\end{axis}
\end{tikzpicture}

\part Transfer time vs data unit size (error probability = 50)

\begin{tikzpicture}
\begin{axis}[
xlabel = {data unit size / \si{byte}},
ylabel = {transfer time / \si{\milli\second} }
]
\addplot table [x=data_len, y=ti, col sep=comma] {dusTime-err50.csv};
\end{axis}
\end{tikzpicture}
\end{parts}

\newpage

\question

\begin{parts}
\part Throughput vs data unit size (error probability = 0)

\begin{tikzpicture}
\begin{axis}[
xlabel = {data unit size / \si{byte}},
ylabel = {throughput / \si{kBps} }
]
\addplot table [x=data_len, y=rt, col sep=comma] {dusRate-err0.csv};
\end{axis}
\end{tikzpicture}

\part Throughput vs data unit size (error probability = 50)

\begin{tikzpicture}
\begin{axis}[
xlabel = {data unit size / \si{byte}},
ylabel = {throughput / \si{kBps} }
]
\addplot table [x=data_len, y=rt, col sep=comma] {dusRate-err50.csv};
\end{axis}
\end{tikzpicture}
\end{parts}


\end{questions}
\end{document}